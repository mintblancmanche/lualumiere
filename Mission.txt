◇ミッション生成


ScenEdit_AddMission('Russia','SSBN Patrol Box','Patrol',{type='ASW',zone=refs})


local side = "RED"
local mission = "Strike-land #Nuke1"

ScenEdit_SetMission(side, mission, {isactive=true})


ScenEdit_AddMission('red','Red patrol','Patrol',{type='naval', patrolZone={'R1','R2','R3','R4'}})

local side = ScenEdit_PlayerSide()
local mission = "Patrol #NC"
local changes = {TransitDepthSubmarine="-52" }
ScenEdit_SetMission (side,mission, changes)


ScenEdit_SetMission (side,mission, {PatrolZone= {"B-1", "B-2", "B-3", "B-4"} })


local side = "Red Force"
local mission = "Nanuchka Patrol"
ScenEdit_SetMission(side, mission, {CheckOPA=true})



◇ミッションステータス
local side = ScenEdit_PlayerSide()
local mission = ""
local mission = ScenEdit_GetMission (side,mission)
print(mission)

--.ferrymission
--.mineclearmission 
--.minemission
--.supportmission
--.patrolmission
--.strikemission
--.cargomission


◇EMCONをかえる
local mission = "Patrol #C-1"
math.randomseed (os.time ())
local D3 = math.random(1,3)

local sonar = 'Sonar=Active'
ScenEdit_SetEMCON('mission', mission, sonar)

local unit = ""
local radar = 'Radar=Active'
ScenEdit_SetEMCON('unit', unit, radar)

◇ドクトリン設定
local side = ScenEdit_PlayerSide()
ScenEdit_SetDoctrine ({side=side), {weapon_control_status_air=1})
ScenEdit_SetDoctrine ({side=side), {weapon_control_status_surface=1})
ScenEdit_SetDoctrine ({side=side), {weapon_control_status_subsurface=1})

◇ドクトリンを変える
local side = "Red Force"
local mission = "Patrol #C-1"
ScenEdit_SetDoctrine ({side=side, {weapon_control_status_surface=1})

ScenEdit_SetDoctrine({side=side, mission=mission}, {weapon_control_status_subsurface=0})
ScenEdit_SetDoctrine({side=side, mission=mission}, {engaging_ambiguous_targets=0})
ScenEdit_SetDoctrine({side=side, mission=mission}, {kinematic_range_for_torpedoes=0})

local side = "Red Force"
local mission = "Patrol #C-1"
ScenEdit_SetDoctrine({side=side, mission=mission}, {weapon_control_status_subsurface=1})
ScenEdit_SetDoctrine({side=side, mission=mission}, {engaging_ambiguous_targets=2})
ScenEdit_SetDoctrine({side=side, mission=mission}, {kinematic_range_for_torpedoes=2})


◇WCSをHOLDにする
local mission = ScenEdit_GetMission("RED", "Support #2 Mboat")
print(mission.unitlist)

for k, v in pairs(mission.unitlist) do
     ScenEdit_SetUnit({guid=v, holdFire = false})
end


◇攻撃中止
local side = "RED"
local mission = "Support #2 Mboat"

ScenEdit_SetDoctrine({side=side, mission=mission}, {engage_opportunity_targets=false})

local mission = ScenEdit_GetMission(side, mission)

for k, v in pairs(mission.unitlist) do
	ScenEdit_SetUnit ({guid = v, unassign = true})
	ScenEdit_AssignUnitToMission (v, mission.name) 
end
---
---

◇xmlファイル出力
local name = "Civilian Fishing Boats"
local side = VP_GetSide({name = name})

for k, v in pairs(side.missions) do
  ScenEdit_ExportMission(name, v.name)
end




