☆RP生成
ScenEdit_RunScript ("lualumiere/AddRPsingle.lua")
ScenEdit_RunScript ("lualumiere/AddRPcircle.lua")

ScenEdit_RunScript ("lualumiere/RP_DrawSubBox.lua")
ScenEdit_RunScript ("lualumiere/Mission_GenMisTemp.lua")
GenMis_PatSub()

ScenEdit_RunScript ("lualumiere/RP_DrawASWBoxPIM.lua")
ScenEdit_RunScript ("lualumiere/RP_DrawASWBox.lua")
ScenEdit_RunScript ("lualumiere/Mission_GenMisTemp.lua")
GenMis_PatASW()

ScenEdit_RunScript ("lualumiere/RP_DrawCAPBox.lua")
ScenEdit_RunScript ("lualumiere/Mission_GenMisTemp.lua")
GenMis_PatCAP()
GenMis_PatNav()
GenMis_PatSub()
GenMis_PatGrd()
GenMis_PatMix()
GenMis_PatSEAD()
GenMis_PatASW()
GenMis_SupAEW()
GenMis_SupJAM()
GenMis_StrAir()

☆指定座標にRPを生成する
lat='N70.4.10'
lon='W5.34.00'

ScenEdit_AddReferencePoint({side="playerside", lat=lat, lon=lon, locked=true})

☆指定座標のまわりに円周RP生成
local lat = "N41.30.00"
local lon = "E18.20.00"
local numpoints = 6
local radius = 18

local circle = World_GetCircleFromPoint ({latitude=lat, longitude=lon, numpoints=numpoints, radius=radius})

for k, v in ipairs(circle) do
    ScenEdit_AddReferencePoint({side="playerside", latitude=v.latitude, longitude=v.longitude, locked=true})
end

☆別陣営のユニット上
local UnitTable = '834430da-cd6b-45cc-97c7-165020e175ce'
local unit = ScenEdit_GetUnit(UnitTable)

ScenEdit_AddReferencePoint({side="playerside", latitude=unit.latitude, longitude=unit.longitude})


☆選択中ユニットの上
local selected = ScenEdit_SelectedUnits().units
for k, v in ipairs(selected) do
  local unit = ScenEdit_GetUnit({name='SSN-769 Toledo', guid='e52c0089-0a98-42e2-9bd8-860fe2bfec79'})
ScenEdit_SetReferencePoint({side="Neutral", name="RP-299",lat=unit.latitude, lon=unit.longitude, locked=true})
end

☆ユニット相対配置
local side= ScenEdit_PlayerSide()
local unit1 = "Jinan"
local unit2 = "Siping"
local bearing = 0
local distance = 5

local status1 = ScenEdit_GetUnit({name=unit1})
local point = World_GetPointFromBearing({latitude=status1.latitude, longitude=status1.longitude, bearing=bearing, distance=distance})
ScenEdit_SetUnit({side=side, name=unit2, latitude=point.latitude, longitude=point.longitude})

☆フォーメーション内移動
local side = ScenEdit_PlayerSide()
local name = "F 807 Kortenaer"
local type = 1
--0 fixed
--1 rotating
local sprint = true
local bearing = 0
local distance = 12
local transpose = true

local unit = ScenEdit_GetUnit({side = side, name = name})
unit.formation = {type=type , sprint=sprint, bearing=bearing, distance=distance, transpose=transpose}


☆別陣営のユニットの周り
local selected =  ScenEdit_SelectedUnits()

local guid
if selected.units == nil then
  guid = selected.contacts[1].guid
else
  guid = selected.units[1].guid
end

local unit = ScenEdit_GetUnit({guid=guid})
local numpoints = 6
local radius = 1

local circle = World_GetCircleFromPoint ({latitude=unit.latitude, longitude=unit.longitude, numpoints=numpoints, radius=radius})

for k, v in ipairs(circle) do
    ScenEdit_AddReferencePoint({side="playerside", latitude=v.latitude, longitude=v.longitude})
end

☆緯度に沿ってRP生成？
for i = 40, 10, -1 do
lat='N46.00.00'
lon='-' .. i .. ''
player = ScenEdit_PlayerSide()
ScenEdit_AddReferencePoint({side=player, lat=lat, lon=lon, locked=true})

end

☆RP1を基準にRP2を生成する
local side = ScenEdit_PlayerSide()
local rpname = "RP-8132"
local bearing = 0
local distance = 20

local rpfrom =ScenEdit_GetReferencePoint({side=side, name=rpname})
local newrp = World_GetPointFromBearing({latitude=rpfrom.latitude, longitude=rpfrom.longitude, bearing=bearing, distance=distance})
ScenEdit_AddReferencePoint({side=side, latitude=newrp.latitude, longitude=newrp.longitude, highlighted=false, locked=true})

☆一点中心に正方形RP生成
local side = ScenEdit_PlayerSide()
local unit = ScenEdit_SelectedUnits().units[1].guid
local offset = 0

ScenEdit_AddReferencePoint({side=side, relativeto=unit, bearing=75+offset, distance=10})
ScenEdit_AddReferencePoint({side=side, relativeto=unit, bearing=105+offset, distance=10})
ScenEdit_AddReferencePoint({side=side, relativeto=unit, bearing=255+offset, distance=10})
ScenEdit_AddReferencePoint({side=side, relativeto=unit, bearing=285+offset, distance=10})


al distance = 5
local distance = distance/2/math.sin(45/180*math.pi)

☆RPを移動させる(1)
local side = ScenEdit_PlayerSide()
local rpname = "RP-8135"
local bearing = 180
local distance = 20

local rpfrom =ScenEdit_GetReferencePoint({side=side, name=rpname})
local newrp = World_GetPointFromBearing({latitude=rpfrom.latitude,
longitude=rpfrom.longitude,bearing=bearing, distance=distance})
ScenEdit_SetReferencePoint({side=side, name=rpname, latitude=newrp.latitude,
longitude=newrp.longitude, highlighted=false, locked=true})


☆RPを移動させる(2)
local side = ScenEdit_PlayerSide()
local rpname = "RP-20"
local lat = "N41.30.00"
local lon = "E18.20.00"

ScenEdit_SetReferencePoint({side=side, name=rpname, latitude=lat, longitude=lon})

32-31
17-19


--ユニットに対して相対位置
local side = ScenEdit_PlayerSide()
local unitTbl = {name='Whiskey-2', guid='O5UD8C-0HNGSCHUF41KA'}
local unit = VP_GetUnit(unitTbl)
local rp = "Sub AO #2"
local bearing = 90
local distance = 12

local newPoint = World_GetPointFromBearing({latitude= unit.latitude, longitude= unit.longitude, bearing=bearing, distance=distance})
ScenEdit_SetReferencePoint({side=side, name=rp, latitude=newPoint.latitude, longitude=newPoint.longitude})




local side = "Soviet Union"
local rp1 = "Sub AO #1"
local rp2 = "Sub AO #2"
local bearing = 90
local distance = 12
local rpfrom =ScenEdit_GetReferencePoint({side=side, name=rp1})
local newrp = World_GetPointFromBearing({latitude=rpfrom.latitude, longitude=rpfrom.longitude, bearing=bearing, distance=distance})
ScenEdit_SetReferencePoint({side=side, name=rp2, latitude=newrp.latitude, longitude=newrp.longitude})

ゾーン生成
local zoneType = 2

local zoneops = {
description = "Test",
area = {
{latitude = '34.2833063729007', longitude = '138.371434386706', name = 'RP-3136'},
{ latitude = '34.2751713567346', longitude = '139.122576855883', name = 'RP-3137'},
{ latitude = '33.823657691087', longitude = '139.111731172117', name = 'RP-3138' },
{ latitude = '33.8329383336795', longitude = '138.36485402628', name = 'RP-3139'}
}
}
local zone = ScenEdit_AddZone (side, zoneType, zoneops)
zone.weatherprofile = { rainfall = 5, seastate = 2, undercloud = 3, temp = 20 }
print(zone.weatherprofile)


ーーー
local cez = VP_GetSide({name="Nature"}):getcustomenvironmentzone("CEZ")
print(cez)
cez.weatherprofile = { rainfall = 5, seastate = 2, undercloud = 3, temp = 20 }
print(cez.weatherprofile)





