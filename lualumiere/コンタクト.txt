◇コンタクト表示
local guid = '87YZY5-0HMOJH9E7DRQ3'
local contact = VP_GetContact({guid=guid})
print(contact)

◇陣営の全コンタクト表示
local side = "Red Force"
local contacts = ScenEdit_GetContacts (side)
print(contacts)

local side = "Blue Force"
local side = VP_GetSide ({side=side})
print( side:unitsBy("Weapon") )

local side = "BLUE"
local contacts = VP_GetSide ({side=side}):contactsBy("2")
print(contacts)

	1 = Aircraft
    2 = Ship
    3 = Submarine
    4 = Facility
    5 = Aimpoint
    6 = Weapon
    7 = Satellite
    8 = Ground unit




◇自動発見
ScenEdit_SetUnit({name='Target Building #1', guid='CFO9UN-0HMN8UIEOL1P8', autodetectable=true})
ScenEdit_SetUnit({guid=UnitX().guid, autodetectable=true})



local aou =Tool_Range({latitude=contact.latitude,
longitude=contact.longitude},
{latitude=contact.areaofuncertainty[1].latitude,
longitude=contact.areaofuncertainty[1].longitude})

print(aou)
local area = {"RP-80", "RP-84", "RP-88", "RP-92", "RP-96", "RP-100"}
return contact:inArea(area)


◇自動でドロップ
VP_GetContact({guid=UnitC().guid}):DropContact()



Lastdetections一覧
local contact = ScenEdit_GetContact ({side="Blue Force", guid='87YZY5-0HMOHRLCLN304'})
print(contact.detectionBy)
print(contact.lastDetections[1])

（中立コンタクトを）自動除外する
ScenEdit_UnitC().FilterOut = true
ScenEdit_UnitC().posture = "N"

ScenEdit_UnitC().posture = "H"

アクティブソーナーの探信音再生
local side = ScenEdit_PlayerSide()
local surface = VP_GetSide ({side=side}):contactsBy("2")
print(surface)

if surface ~= nil then
	for k, v in pairs(surface) do
        local contact = VP_GetContact({guid=v.guid})
        if contact.emissions ~= nil then
            for k1, v1 in pairs(contact.emissions) do
                if v1.sensor_type == 5002 and v1.Age <= 60 then
                    ScenEdit_PlaySound("misc/Sonar3.wav")
                    break
                end
            end
        else
            print(v.name.. "has no emission!")
        end
    end
else
    print("no surface contacts!")
end


--set contact as unfriendly

local side = "BLUE"
local side = VP_GetSide ({side=side})

local contact = ScenEdit_UnitX().ascontact
for i = 1, #contact do
    if contact[i].side == side.guid then
        VP_GetContact({guid=contact[i].guid}).posture = "U"
        break
    end
end

--自動で敵艦
local side = "China"
local subcontact = VP_GetSide({side=side}):contactsBy("3")
print(subcontact)
if subcontact ~= nil then
	for k, v in ipairs(subcontact) do
		local contact = VP_GetContact({guid=v.guid})
		if (contact.speed ~= nil and contact.speed >= 8) or (contact.emissions ~= nil) then			--contact speed is more than 8kts or contact is emiting
			contact.posture = "H"

			local aou =Tool_Range({latitude=contact.latitude, longitude=contact.longitude},
				{latitude=contact.areaofuncertainty[1].latitude, longitude=contact.areaofuncertainty[1].longitude})	--if contact AoU is larger than 1nm go active
			if aou > 1 then
				local mission = "Patrol #2"
				local mission = ScenEdit_GetMission("China", mission)
				ScenEdit_SetEMCON('mission', mission.guid, 'Sonar=Active')
				for k, v in ipairs (mission.unitlist) do
					ScenEdit_SetEMCON('unit', v, "Inherit")
				end

				local event = "Sonar_Passive"
				ScenEdit_SetEvent(event, {isactive=true})

				local guid = '5bf27054-005f-4306-9062-3de2a5dfbeec'
				local makemydepth = 170
				ScenEdit_SetUnit({guid=guid, manualAltitude=-math.floor(0.5+makemydepth/3.28084) })
			end
		end
	end
else
    print("no subcontacts")
end

---
local guid = '13a966e0-f257-4de5-9cc2-84d8ba94962b'
local unit = ScenEdit_GetUnit({guid=guid})
print(unit.unitstate)

if unit.unitstate == 'EngagedOffensive' then
    local maketurnsfor = 2
    ScenEdit_SetUnit({guid=guid, manualSpeed=maketurnsfor})
else
    ScenEdit_SetUnit({guid=guid, manualSpeed="OFF"})  
end

◇陣営のコンタクト全削除
local side = "ORANGE"
local contacts = ScenEdit_GetContacts (side)
print(contacts)

for k, v in pairs(contacts) do
    VP_GetContact({guid=v.guid}):DropContact()
end

◇自動で友軍
local unit = ScenEdit_GetUnit({guid='dbdd3e0b-ddb3-4271-aa0d-90eaef4003fb'}) --tanker
local side = VP_GetSide({name="PLAYER"})

for k, v in pairs(unit.ascontact) do
  if v.side == side.guid then
    VP_GetContact({guid=v.guid}).posture = "F"
  else
    print("PLAYER does not detect tanker.")
  end
end